apply plugin: 'org.springframework.boot'

description = 'notification-service'

dependencies {
    implementation(
            project(':piggymetrics-core'),
            'org.springframework.boot:spring-boot-starter-web',
            'org.springframework.boot:spring-boot-starter-data-jpa',
            'org.springframework.boot:spring-boot-starter-security',
            'org.springframework.cloud:spring-cloud-starter-oauth2',
            'org.springframework.cloud:spring-cloud-starter-openfeign',
            'org.springframework.boot:spring-boot-starter-actuator',
            'org.springframework.cloud:spring-cloud-starter-kubernetes-config',
            'org.springframework.boot:spring-boot-starter-mail',
            'org.apache.commons:commons-lang3',
            'org.liquibase:liquibase-core',
            'com.google.guava:guava',
            'net.javacrumbs.shedlock:shedlock-spring',
            'net.javacrumbs.shedlock:shedlock-provider-jdbc-template',
            'org.slf4j:jcl-over-slf4j',
            'org.postgresql:postgresql'
    )
    implementation('commons-validator:commons-validator') {
        exclude module: 'commons-logging'
    }

    compileOnly(
            'org.projectlombok:lombok'
    )

    testImplementation('org.springframework.boot:spring-boot-starter-test') {
        exclude group: 'junit', module: 'junit'
    }
    testImplementation(
            'org.springframework.security:spring-security-test',
            'org.testcontainers:postgresql',
            'org.testcontainers:junit-jupiter',
            'com.ninja-squad:DbSetup',
            'org.assertj:assertj-db',
            'name.falgout.jeffrey.testing.junit5:mockito-extension',
            'org.junit.jupiter:junit-jupiter-api',
            'commons-io:commons-io',
            'org.simplejavamail:simple-java-mail'
    )

    testCompileOnly(
            'org.projectlombok:lombok'
    )

    testRuntimeOnly(
            'org.junit.jupiter:junit-jupiter-engine'
    )
}
